(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64659,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},35804,e=>{"use strict";var t=e.i(71645),r=e.i(34620);function s(e){let[s,a]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;a({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),s}e.s(["useSize",()=>s])},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},51287,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(49389),i=e.i(60288),l=e.i(5862),d=e.i(70065),n=e.i(94179),o=e.i(23750),c=e.i(62870),u=e.i(55436);let x=(0,e.i(75254).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var m=e.i(92270),h=e.i(106),g=e.i(27612),p=e.i(14764),b=e.i(22915),f=e.i(39616),v=e.i(91741),j=e.i(45919),y=e.i(86135);let k={login:x,logout:m.LogOut,create_post:h.FileEdit,update_post:h.FileEdit,delete_post:g.Trash2,publish_post:p.Send,archive_post:b.Archive,reply_inquiry:p.Send,archive_inquiry:b.Archive,update_settings:f.Settings},N={login:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300",logout:"bg-gray-100 text-gray-600 dark:bg-gray-800/40 dark:text-gray-300",create_post:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300",update_post:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-300",delete_post:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",publish_post:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",archive_post:"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300",reply_inquiry:"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300",archive_inquiry:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300",update_settings:"bg-slate-100 text-slate-700 dark:bg-slate-800/40 dark:text-slate-300"};function w(){let e=(0,s.useRouter)(),{isLoggedIn:x,activityLog:m}=(0,a.useAdmin)(),[h,g]=(0,r.useState)(""),[p,b]=(0,r.useState)("all");if((0,r.useEffect)(()=>{x||e.push("/admin")},[x,e]),!x)return null;let f=m.filter(e=>("all"===p||e.action===p)&&(!h||!!e.description.toLowerCase().includes(h.toLowerCase())||!!e.user.toLowerCase().includes(h.toLowerCase()))),w={};for(let e of f){let t=(0,j.format)((0,y.parseISO)(e.timestamp),"MMMM d, yyyy");w[t]||(w[t]=[]),w[t].push(e)}return(0,t.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,t.jsx)(i.AdminSidebar,{}),(0,t.jsxs)("main",{className:"flex-1 overflow-y-auto",children:[(0,t.jsx)("div",{className:"border-b border-border bg-card px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:(0,t.jsx)(v.ClipboardList,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-card-foreground",children:"Activity Log"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Track all admin actions and changes."})]})]})}),(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6 p-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[(0,t.jsx)(u.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(o.Input,{placeholder:"Search activity...",value:h,onChange:e=>g(e.target.value),className:"pl-9"})]}),(0,t.jsxs)(c.Select,{value:p,onValueChange:e=>b(e),children:[(0,t.jsx)(c.SelectTrigger,{className:"w-44",children:(0,t.jsx)(c.SelectValue,{placeholder:"Filter by action"})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"all",children:"All Actions"}),Object.entries(l.activityLabels).map(([e,r])=>(0,t.jsx)(c.SelectItem,{value:e,children:r},e))]})]})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing"," ",(0,t.jsx)("strong",{className:"text-card-foreground",children:f.length})," ","of ",m.length," entries"]}),0===Object.keys(w).length&&(0,t.jsx)("div",{className:"rounded-xl border border-dashed border-border p-12 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No activity found."})}),Object.entries(w).map(([e,r])=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-3 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-px flex-1 bg-border"}),(0,t.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:e}),(0,t.jsx)("div",{className:"h-px flex-1 bg-border"})]}),(0,t.jsx)(d.Card,{children:(0,t.jsx)(d.CardContent,{className:"divide-y divide-border p-0",children:r.map(e=>{let r=k[e.action];return(0,t.jsxs)("div",{className:"flex items-center gap-4 px-5 py-3.5 transition-colors hover:bg-accent/50",children:[(0,t.jsx)("div",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-lg ${N[e.action]}`,children:(0,t.jsx)(r,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-sm text-card-foreground",children:e.description}),(0,t.jsx)("p",{className:"mt-0.5 text-sm text-muted-foreground",children:e.user})]}),(0,t.jsx)(n.Badge,{variant:"secondary",className:"shrink-0 text-xs",children:l.activityLabels[e.action]}),(0,t.jsx)("span",{className:"shrink-0 text-sm text-muted-foreground",children:(0,j.format)((0,y.parseISO)(e.timestamp),"h:mm a")})]},e.id)})})})]},e))]})]})]})}e.s(["default",()=>w],51287)}]);